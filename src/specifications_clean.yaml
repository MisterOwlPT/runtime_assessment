setup:
  target_node: /snake_game
  topics:
    turtle1/pose: geometry_msgs/Pose  
    turtle1/cmd_vel: geometry_msgs/Twist  
    turtle1/checkpoint: std_msgs/String
# rate: 10
# logger_path: log

specifications:

  - topic: turtle1/pose
    mode: exists
    params:
      target:
        - { position.x: 10, position.y: 5.5 }
        - { position.x: 10, position.y: 10.5 }
        - { position.x: 5, position.y: 10.5 }
        - { position.x: 5, position.y: 5.5 }

  - topic: turtle1/pose
    mode: exists
    temporal_consistency: true  
    params:
      tolerance: 0.05
      target:
        - { position.x: 10, position.y: 5.5 }
        - { position.x: 5.5, position.y: 5.5 }
        - { position.x: 5.5, position.y: 10.5 }
        - { position.x: 10, position.y: 10.5 }

  - topic: turtle1/pose
    mode: exists
    params:
      timein: 10.0
      timeout: 20.0
      target:
        - { position.x: 10, position.y: 5.5 }

  - topic: turtle1/cmd_vel
    mode: average # or max, min, total, exists, absent, frequency
    params:
      comparator: ">"
      target: 
        - linear.x: 1.5

  - topic: turtle1/cmd_vel
    mode: max
    params:
      comparator: "<"
      target:
        - angular.z: 0.5

  - topic: turtle1/cmd_vel
    mode: max
    params:
      comparator: "<"
      target:
        - linear.x:
          min: 0.5
          max: 1.5

  - topic: turtle1/checkpoint
    mode: exists
    params:
      target:
        - data: "reached 1"
        - data: "reached 2"
        - data: "reached 3"
        - data: "reached 4"

  - topic: turtle1/checkpoint
    mode: frequency
    params:
      target: 60.0

  # global assessments

  - metric: "number_of_messages"
    # mode: total - default
    params:
      timeout: 60.0
      target: 
        min: 30.0
        max: 40.0

  - metric: "execution_time"
    # mode: total - default
    params:
      comparator: "<"
      target: 60.0

  - metric: "frequency"
    # mode: total - default
    params:
      target: 
        min: 30.0
        max: 40.0
